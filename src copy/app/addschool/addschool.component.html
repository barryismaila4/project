<div class="container">
  <h2>Ajouter une École de Danse</h2>

  <form [formGroup]="schoolForm" (ngSubmit)="addDanceSchool()">
    <div class="form-group">
      <label for="name">Nom de l'École :</label>
      <input type="text" id="name" formControlName="name" class="form-control" />
      <div *ngIf="schoolForm.get('name')?.invalid && schoolForm.get('name')?.touched" class="text-danger">
        Le nom de l'école est requis.
      </div>
    </div>

    <div class="form-group">
      <label for="position">Position :</label>
      <input type="text" id="position" formControlName="position" class="form-control" />
      <div *ngIf="schoolForm.get('position')?.invalid && schoolForm.get('position')?.touched" class="text-danger">
        La position est requise.
      </div>
    </div>

    <div class="form-group">
      <label for="horaire">Horaire :</label>
      <input type="text" id="horaire" formControlName="horaire" class="form-control" />
      <div *ngIf="schoolForm.get('horaire')?.invalid && schoolForm.get('horaire')?.touched" class="text-danger">
        L'horaire est requis.
      </div>
    </div>

    <div class="form-group">
      <label for="danceStyle">Style de Danse :</label>
      <select id="danceStyle" formControlName="danceStyle" class="form-control">
        <option value="">-- Sélectionner un style de danse --</option>
        <option *ngFor="let style of danceStyles" [ngValue]="style">{{ style.name }}</option>
      </select>
      <div *ngIf="schoolForm.get('danceStyle')?.invalid && schoolForm.get('danceStyle')?.touched" class="text-danger">
        Veuillez sélectionner un style de danse.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="isLoading">Ajouter l'École</button>
  </form>

  <div *ngIf="successMessage" class="alert alert-success mt-3">
    {{ successMessage }}
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }}
  </div>

  <div *ngIf="isLoading" class="mt-3">Chargement des styles de danse en cours...</div>

  <!-- Bouton pour retourner à la liste des écoles -->
  <button (click)="goToListSchool()" class="btn btn-secondary mt-3">Retour à la liste des écoles</button>
</div>
